#!/usr/bin/env python3
import argparse
from ciphers import caesar, vigenere, playfair, zigzag, monoalpha, polyalpha, blok, character

def banner():
    print("*" * 70)
    print(r"""
 _____                             _             
| ____|_ __   ___ _ __ _   _ _ __ | |_ ___  _ __ 
|  _| | '_ \ / __| '__| | | | '_ \| __/ _ \| '__|
| |___| | | | (__| |  | |_| | |_) | || (_) | |   
|_____|_| |_|\___|_|   \__, | .__/ \__\___/|_|   
                       |___/|_|                  
""")
    print("Encryptor 15.5 | Coded by Muhammad Anwar Thoriq\n")

parser = argparse.ArgumentParser(description="Encryptor multi-algoritma")
parser.add_argument('-a', '--algo', required=True, help='Jenis algoritma (caesar, vigenere, dll)')
parser.add_argument('-t', '--text', required=True, help='Plaintext')
parser.add_argument('-k', '--key', help='Kunci utama')
parser.add_argument('-k1', '--key1', help='Kunci 1')
parser.add_argument('-k2', '--key2', help='Kunci 2')
parser.add_argument('-k3', '--key3', help='Kunci 3')
args = parser.parse_args()

banner()
algo = args.algo.lower()
plaintext = args.text

# Routing
if algo == "caesar":
    result = caesar.encrypt(plaintext, int(args.key))
elif algo == "vigenere":
    result = vigenere.encrypt(plaintext, args.key)
elif algo == "playfair":
    result = playfair.encrypt(plaintext, args.key)
elif algo == "zigzag":
    result = zigzag.encrypt(plaintext, int(args.key))
elif algo == "monoalpha":
    result = monoalpha.encrypt(plaintext, args.key)
elif algo == "polyalpha":
    result = polyalpha.encrypt(plaintext, args.key1, args.key2)
elif algo == "blok":
    result = blok.encrypt(plaintext, int(args.key1), int(args.key2), int(args.key3))
elif algo == "karakter":
    result = karakter.encrypt(plaintext, int(args.key1), int(args.key2), int(args.key3))
elif algo == "kuno":
    result = kuno.encrypt(plaintext, args.key)
else:
    result = "Algoritma tidak dikenali"

print("*" * 70 + "\n")
banner()
print(f"Jenis Kriptografi: {algo}")
print(f"Plaintext        : {plaintext}")

if args.key:
    print(f"Kunci               : {args.key}")
if args.key1:
    print(f"Kunci 1          : {args.key1}")
if args.key2:
    print(f"Kunci 2          : {args.key2}")
if args.key3:
    print(f"Kunci 3          : {args.key3}")

print(f"Ciphertext       : {result}")
